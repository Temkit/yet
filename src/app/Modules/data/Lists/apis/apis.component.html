<div id="bread">
  <mat-icon class="item" routerLink="/">home</mat-icon>
  <mat-icon class="item">keyboard_arrow_right</mat-icon>
  <span class="item" (click)="refresh()"
    >Liste des publications {{ name }}</span
  >
</div>
<div
  *ngIf="pageload | async as posts; else spinner"
  class="container-fluid pl-4 pr-4 mt-list"
>
  <div class="row">
    <div class="col-lg-12 p-0 d-flex align-items-center hfilter">
      <button mat-raised-button color="accent" class="mr-2" (click)="refresh()">
        <mat-icon>refresh</mat-icon>
      </button>
      <button
        *ngIf="vars.addLabel"
        color="warn"
        class="mr-2"
        mat-raised-button
        [routerLink]="[vars.Specification.Link]"
        [queryParams]="{ item: vars.File }"
      >
        <mat-icon>library_add</mat-icon>
      </button>

      <div class="space"></div>
    </div>
  </div>
  <div class="row">
    <div *ngFor="let post of posts" class="col-lg-3">
      <span>{{ post.created_time }}</span>
      <img
        src="{{ (post.attachments?.data)[0].media.image.src }}"
        alt=""
        style="height:auto; width : 100%"
      />
    </div>
  </div>
</div>
<ng-template #spinner>
  <div class="spinner">
    <div class="lds-ellipsis">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <p class="log" *ngIf="vars.File">
      {{ vars.Specification.name }} chargement
    </p>
  </div>
</ng-template>
